import java.util.ArrayList;
import java.util.Scanner;
public class Employee{
    private String name;
    private String lastName;
    private ArrayList<BankAccount> employeeAccountList = new ArrayList<>();

    public Employee(String name, String lastName) {
        this.name = name;
        this.lastName = lastName;
    }

    public void addAccount(){
        char acctype='F';
        Scanner sc = new Scanner(System.in);
        while(acctype != 'A' && acctype != 'B' && acctype != 'C') {
            System.out.println("Ingrese el tipo de la cuenta: ");
            acctype = sc.nextLine().charAt(0);
            if (acctype != 'A' && acctype != 'B' && acctype != 'C'){
                System.out.println("Tipo de cuentra invalido");
            }
        }
        System.out.println("Ingrese el numero de cuenta: ");
        long Noc = sc.nextLong();
        System.out.println("Ingrese la cantidad de dinero inicial: ");
        double saldo = sc.nextDouble();
        BankAccount newAccount = new BankAccount(Noc,saldo , acctype);
        employeeAccountList.add(newAccount);
        Main.bank.setAccounts(newAccount);
    }

    public void addAccount(long num, double Saldo, char Acctype){
        BankAccount newAccount = new BankAccount(num,Saldo,Acctype);
        employeeAccountList.add(newAccount);
        Main.bank.setAccounts(newAccount);
    }

    public void getAccountList(){
        int s = 0;
        System.out.println("***\tCuentas de: "+name+" "+lastName+"\t***");
        for (BankAccount bankAccount : employeeAccountList) {
            System.out.println(" Cuenta "+(s+1));
            System.out.println(" Numero de Cuenta: "+bankAccount.getNoCuenta());
            System.out.println("Tipo de Cuenta: "+bankAccount.getAccType());
            System.out.println("Saldo actual:"+bankAccount.getSaldo());
            s++;
        }
        System.out.println("************");
    }

    public void retiro(int index, double rt){
        for (BankAccount bankAccount : employeeAccountList.subList(index-1,index)) {
            if (bankAccount.getAccType() == 'A' && rt >= 1000) {
                if (bankAccount.getSaldo() < rt) {
                    System.out.println("La cantidad a retirar excede el saldo actual");
                } else {
                    BankAccount.DismnSaldo(rt);
                }
            } else if (bankAccount.getAccType() == 'B' && rt >= 5000) {
                if (bankAccount.getSaldo() < rt) {
                    System.out.println("La cantidad a retirar excede el saldo actual");
                } else {
                        BankAccount.DismnSaldo(rt);
                }
            } else if (bankAccount.getAccType() == 'C' && rt >= 10000) {
                if (bankAccount.getSaldo() < rt)
                {
                    System.out.println("La cantidad a retirar excede el saldo actual");
                } else {
                    BankAccount.DismnSaldo(rt);
                }
            } else {
                System.out.println("El retiro no cumple con el minimo requerido para retirar");
            }
        }
    }

}